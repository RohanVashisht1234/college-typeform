<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect Integrations - Typeform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #10b981;
            --primary-dark: #059669;
            --accent: #3b82f6;
            --surface: #fff;
            --gray: #f8f9fa;
            --text: #222;
            --border: #e5e7eb;
            --surface-dark: #191c1e;
            --surface-dark2: #202427;
            --gray-dark: #181b1e;
            --border-dark: #32363a;
            --text-dark: #f3f4f6;
            --text-dark2: #b5bec9;
            --accent-dark: #06b6d4;
        }

        html,
        body {
            height: 100%;
            min-height: 100vh;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--gray);
            color: var(--text);
            line-height: 1.5;
            height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background .2s, color .2s;
        }

        body.dark,
        .dark body {
            background: var(--gray-dark) !important;
            color: var(--text-dark2);
        }

        .dark,
        .dark * {
            --text: var(--text-dark2);
            color: var(--text-dark2) !important;
        }

        .top-nav {
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            padding: 12px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background .2s, border .2s;
        }

        .dark .top-nav {
            background: var(--surface-dark);
            border-color: var(--border-dark);
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #6b7280;
        }

        .breadcrumb-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .breadcrumb-item span {
            cursor: pointer;
        }

        .nav-tabs {
            display: flex;
            gap: 24px;
            margin: 0 auto;
        }

        .nav-tab {
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 500;
            color: #6b7280;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .nav-tab.active {
            color: #111827;
            border-bottom-color: var(--primary);
        }

        .nav-tab:hover {
            color: #374151;
        }

        .dark .nav-tab {
            color: var(--text-dark2);
        }

        .dark .nav-tab.active {
            color: #fff;
            border-bottom-color: var(--primary);
        }

        .dark .nav-tab:hover {
            color: #fff;
        }

        .top-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            border: 1px solid #d1d5db;
            background: var(--surface);
            color: #374151;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .btn:hover {
            border-color: #9ca3af;
        }

        .btn-primary {
            background: var(--primary);
            color: white !important;
            border-color: var(--primary);
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
        }

        .dark .top-actions .btn,
        .dark .btn {
            background: var(--surface-dark2);
            color: var(--text-dark2) !important;
            border-color: var(--border-dark);
        }

        .dark .btn-primary {
            background: var(--primary);
            color: #fff !important;
            border-color: var(--primary);
        }

        .dark .btn-primary:hover {
            background: var(--primary-dark);
        }

        .main-layout {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .left-sidebar {
            width: 220px;
            background: var(--surface);
            border-right: 1px solid var(--border);
            overflow-y: auto;
            padding: 24px 0 24px 18px;
        }

        .dark .left-sidebar {
            background: var(--surface-dark2);
            border-color: var(--border-dark);
        }

        .connect-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 11px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 8px;
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .connect-option:hover {
            background: #f9fafb;
        }

        .connect-option.active {
            background: #f0fdf4;
            border-color: var(--primary);
        }

        .connect-icon {
            width: 27px;
            height: 27px;
            border-radius: 6px;
            background: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            font-size: 14px;
        }

        .connect-option.active .connect-icon {
            background: var(--primary);
            color: white;
        }

        .connect-text {
            font-size: 14px;
            color: #374151;
            font-weight: 500;
        }

        .dark .connect-option {
            color: var(--text-dark2);
        }

        .dark .connect-option.active {
            background: #093;
            border-color: var(--primary);
        }

        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 32px 32px 32px 32px;
            background: var(--gray);
        }

        .dark .main-content {
            background: var(--gray-dark);
        }

        .connect-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 32px;
            background: var(--surface);
            padding: 18px 20px;
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        .dark .connect-header {
            background: var(--surface-dark2);
            border-color: var(--border-dark);
        }

        .copy-link-btn {
            background: #374151;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .copy-link-btn:hover {
            background: #1f2937;
        }

        .form-url {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            background: #f9fafb;
            color: #6b7280;
        }

        .dark .form-url {
            background: #23272b;
            color: var(--text-dark2);
            border-color: var(--border-dark);
        }

        .customize-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .action-btn {
            background: none;
            border: 1px solid #d1d5db;
            color: #6b7280;
            cursor: pointer;
            font-size: 16px;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .action-btn:hover {
            background: #f3f4f6;
            color: #374151;
        }

        .dark .action-btn {
            color: var(--text-dark2);
        }

        .connect-content {
            max-width: 800px;
            margin: 0 auto;
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 8px;
            color: #222;
            font-weight: 700;
        }

        .dark h2 {
            color: #f3f4f6;
        }

        h3 {
            font-size: 1.18rem;
            margin-bottom: 8px;
            color: var(--primary-dark);
            font-weight: 700;
        }

        .dark h3 {
            color: #36e1c5;
        }

        .integration-list {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 24px;
            margin-bottom: 30px;
        }

        .integration-card {
            flex: 1 0 240px;
            background: var(--surface);
            border-radius: 11px;
            border: 1.5px solid var(--border);
            padding: 22px 20px 14px 20px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            transition: box-shadow .2s;
            box-shadow: 0 1.5px 10px #10b98111;
        }

        .integration-card:hover {
            box-shadow: 0 4px 30px #10b98122;
            border-color: var(--primary);
        }

        .dark .integration-card {
            background: var(--surface-dark2);
            border-color: var(--border-dark);
        }

        .integration-card .icon {
            font-size: 1.5rem;
            margin-bottom: 7px;
        }

        .integration-card .label {
            font-weight: 600;
            margin-bottom: 7px;
        }

        .integration-card .desc {
            font-size: 0.98rem;
            color: #6b7280;
            margin-bottom: 11px;
        }

        .dark .integration-card .desc {
            color: #a4b1c2;
        }

        .integration-card .integration-btn {
            margin-top: auto;
            border: none;
            background: var(--primary);
            color: #fff;
            border-radius: 7px;
            font-weight: 600;
            font-size: 0.97rem;
            padding: 9px 19px;
            cursor: pointer;
            transition: .13s;
        }

        .integration-card .integration-btn:hover {
            background: var(--primary-dark);
        }

        .webhook-section {
            background: var(--surface);
            border-radius: 12px;
            border: 1px solid var(--border);
            margin-top: 36px;
            padding: 30px 28px;
        }

        .dark .webhook-section {
            background: var(--surface-dark2);
            border-color: var(--border-dark);
        }

        .webhook-options {
            margin-top: 16px;
        }

        .webhook-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .dark .webhook-row {
            border-bottom: 1px solid #282c34;
        }

        .webhook-row:last-child {
            border-bottom: none;
        }

        .webhook-label {
            font-size: 1rem;
        }

        .webhook-toggle {
            width: 44px;
            height: 24px;
            border-radius: 12px;
            background: #d1d5db;
            position: relative;
            cursor: pointer;
            transition: background .2s;
        }

        .webhook-toggle.active {
            background: var(--primary);
        }

        .webhook-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.2s;
        }

        .webhook-toggle.active::after {
            transform: translateX(20px);
        }

        .dark .webhook-toggle {
            background: #333;
        }

        @media (max-width: 1000px) {
            .integration-list {
                flex-direction: column;
                gap: 18px;
            }
        }

        @media (max-width: 768px) {
            .top-nav {
                flex-direction: column;
                gap: 12px;
                align-items: flex-start;
            }

            .nav-tabs {
                order: 2;
                margin: 0;
            }

            .main-layout {
                flex-direction: column;
            }

            .left-sidebar,
            .right-sidebar {
                width: 100%;
                border: none;
                border-bottom: 1px solid #e5e7eb;
            }

            .main-content {
                padding: 12px;
            }

            .webhook-section {
                padding: 18px 7vw;
            }
        }

        ::-webkit-scrollbar {
            width: 8px;
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #e5e7eb;
            border-radius: 4px;
        }

        .dark ::-webkit-scrollbar-thumb {
            background: #333;
        }
    </style>
</head>

<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="breadcrumb">
            <div class="breadcrumb-item" onclick="gotoWorkspace()" style="cursor:pointer;">
                <i class="fas fa-th"></i><span>My workspace</span><i class="fas fa-chevron-right"></i>
            </div>
            <div class="breadcrumb-item"><span id="breadcrumbFormName"></span></div>
        </div>
        <div class="nav-tabs">
            <div class="nav-tab" onclick="gotoContent()">Content</div>
            <div class="nav-tab" onclick="gotoWorkflow()">Workflow</div>
            <div class="nav-tab active" onclick="gotoConnect()">Connect</div>
            <div class="nav-tab" onclick="gotoShare()">Share</div>
            <div class="nav-tab" onclick="gotoResults()">Results</div>
        </div>
        <div class="top-actions">
            <button class="btn" id="linkBtn"><i class="fas fa-link"></i></button>
            <button class="btn btn-primary" id="plansBtn">View plans</button>
            <button class="btn" id="helpBtn"><i class="fas fa-question-circle"></i></button>
            <div class="user-avatar">RV</div>
            <button class="btn" id="darkToggleBtn" title="Toggle dark mode" style="margin-left:8px;"><i
                    class="fas fa-moon"></i></button>
        </div>
    </nav>
    <div class="main-layout">
        <!-- Left Sidebar -->
        <aside class="left-sidebar">
            <div class="connect-option active" data-option="integrations" onclick="showIntegrations()">
                <div class="connect-icon"><i class="fas fa-cubes"></i></div>
                <div class="connect-text">Integrations</div>
            </div>
            <div class="connect-option" data-option="webhooks" onclick="showWebhooks()">
                <div class="connect-icon"><i class="fas fa-bolt"></i></div>
                <div class="connect-text">Webhooks</div>
            </div>
            <div style="margin-top:30px;">
                <button class="btn btn-primary" style="width:100%;" onclick="window.location='/pricing.html'"><i
                        class="fas fa-crown"></i> Upgrade plan</button>
                <div style="font-size:12px;color:#6b7280;margin-top:10px;">Try Business or Enterprise for more
                    integration options.</div>
            </div>
            <div id="mockSidebarInfo" style="margin-top:25px;font-size:13px;color:#6b7280;"></div>
        </aside>
        <!-- Main Content -->
        <main class="main-content">
            <div class="connect-header">
                <button class="copy-link-btn" onclick="copyLink()"><i class="fas fa-link"></i> Copy form link</button>
                <input type="text" class="form-url" value="" readonly id="formUrl">
                <div class="customize-actions">
                    <button class="action-btn" title="Customize" id="editBtn"><i class="fas fa-edit"></i></button>
                    <button class="action-btn" title="Email"><i class="fas fa-envelope"></i></button>
                    <button class="action-btn" title="QR Code"><i class="fas fa-qrcode"></i></button>
                </div>
            </div>
            <div class="connect-content" id="connectContent">
                <!-- Integrations and webhooks DOM will be toggled here -->
            </div>
        </main>
    </div>
    <script>
        function getFormName() {
            const url = new URL(window.location.href);
            return url.searchParams.get('q') || 'Untitled Form';
        }
        function getShareUrl() {
            // The shareable form link (public)
            const formName = getFormName();
            return window.location.origin + "./logged_in/export.html?q=" + encodeURIComponent(formName);
        }
        function getExportUrl() {
            const formName = getFormName();
            return "./logged_in/export.html?q=" + encodeURIComponent(formName);
        }
        function gotoWorkspace() { window.location = "/college-typeform/logged_in/index.html"; }
        function gotoContent() { window.location.href = "/college-typeform/logged_in/content.html?q=" + encodeURIComponent(getFormName()); }
        function gotoWorkflow() { window.location.href = "/college-typeform/logged_in/workflow.html?q=" + encodeURIComponent(getFormName()); }
        function gotoConnect() { window.location.href = "/college-typeform/logged_in/connect.html?q=" + encodeURIComponent(getFormName()); }
        function gotoShare() { window.location.href = "/college-typeform/logged_in/share.html?q=" + encodeURIComponent(getFormName()); }
        function gotoResults() { window.location.href = "/college-typeform/logged_in/results.html?q=" + encodeURIComponent(getFormName()); }
        function copyLink() {
            const url = getShareUrl();
            if (navigator.clipboard) {
                navigator.clipboard.writeText(url).then(() => {
                    showNotification('Form link copied!', 'success');
                });
            } else {
                const tmp = document.createElement('input');
                tmp.value = url;
                document.body.appendChild(tmp);
                tmp.select();
                document.execCommand('copy');
                tmp.remove();
                showNotification('Form link copied!', 'success');
            }
        }
        function setDarkInitial() {
            let dark = false;
            if (localStorage.getItem('connect-darkmode') === '1') dark = true;
            else if (localStorage.getItem('connect-darkmode') === '0') dark = false;
            else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) dark = true;
            if (dark) {
                document.body.classList.add('dark');
                document.getElementById('darkToggleBtn').innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                document.body.classList.remove('dark');
                document.getElementById('darkToggleBtn').innerHTML = '<i class="fas fa-moon"></i>';
            }
        }
        function toggleDarkMode() {
            document.body.classList.toggle('dark');
            if (document.body.classList.contains('dark')) {
                localStorage.setItem('connect-darkmode', '1');
                document.getElementById('darkToggleBtn').innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                localStorage.setItem('connect-darkmode', '0');
                document.getElementById('darkToggleBtn').innerHTML = '<i class="fas fa-moon"></i>';
            }
        }
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            const colors = { success: '#10b981', warning: '#f59e0b', error: '#ef4444', info: '#3b82f6' };
            notification.style.cssText = ` position: fixed; top: 20px; right: 20px; background: ${colors[type]}; color: white; padding: 12px 20px; border-radius: 8px; font-size: 14px; font-weight: 500; z-index: 2000; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); transform: translateX(100%); transition: transform 0.3s ease; max-width: 350px; line-height: 1.4; `;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => { notification.style.transform = 'translateX(0)'; }, 100);
            setTimeout(() => { notification.style.transform = 'translateX(100%)'; setTimeout(() => { if (document.body.contains(notification)) { document.body.removeChild(notification); } }, 300); }, 3500);
        }
        function mockSidebar(option) {
            let msg = '';
            if (option === 'integrations') showIntegrations();
            if (option === 'webhooks') showWebhooks();
        }
        function toggleActive(el) { el.classList.toggle('active'); }
        function showIntegrations() {
            document.querySelectorAll('.connect-option').forEach(o => o.classList.remove('active'));
            document.querySelector('.connect-option[data-option="integrations"]').classList.add('active');
            document.getElementById('connectContent').innerHTML = `
    <h2>Integrations & Automations</h2>
    <p style="color:#6b7280;margin-bottom:24px;">Connect your form to your favorite apps, automate your workflow, and collect data wherever you need it.</p>
    <div class="integration-list">
      <div class="integration-card">
        <div class="icon" style="color:#34a853"><i class="fab fa-google-drive"></i></div>
        <div class="label">Google Sheets</div>
        <div class="desc">Send new responses to a Google Sheet in real time.</div>
        <button class="integration-btn" onclick="showNotification('Google Sheets integration coming soon!', 'info')">Connect</button>
      </div>
      <div class="integration-card">
        <div class="icon" style="color:#0088cc"><i class="fab fa-slack"></i></div>
        <div class="label">Slack</div>
        <div class="desc">Push notifications about new responses directly into a Slack channel.</div>
        <button class="integration-btn" onclick="showNotification('Slack integration coming soon!', 'info')">Connect</button>
      </div>
      <div class="integration-card">
        <div class="icon" style="color:#fbbc05"><i class="fas fa-envelope-open"></i></div>
        <div class="label">Email</div>
        <div class="desc">Send an email whenever you get a new submission.</div>
        <button class="integration-btn" onclick="showNotification('Email integration coming soon!', 'info')">Connect</button>
      </div>
      <div class="integration-card">
        <div class="icon" style="color:#ff5e00"><i class="fas fa-bolt"></i></div>
        <div class="label">Zapier</div>
        <div class="desc">Automate your workflows by connecting with Zapier.</div>
        <button class="integration-btn" onclick="showNotification('Zapier integration coming soon!', 'info')">Connect</button>
      </div>
    </div>
  `;
        }
        function showWebhooks() {
            document.querySelectorAll('.connect-option').forEach(o => o.classList.remove('active'));
            document.querySelector('.connect-option[data-option="webhooks"]').classList.add('active');
            document.getElementById('connectContent').innerHTML = `
    <div class="webhook-section">
      <h3><i class="fas fa-bolt"></i> Webhooks (Sample)</h3>
      <div style="color:#6b7280;font-size:15px;margin-bottom:8px;">Automate actions or connect to your own backend via webhooks.</div>
      <div class="webhook-options">
        <div class="webhook-row"><span class="webhook-label">Send on Submission</span><div class="webhook-toggle" onclick="toggleActive(this)"></div></div>
        <div class="webhook-row"><span class="webhook-label">Send on Update</span><div class="webhook-toggle" onclick="toggleActive(this)"></div></div>
        <div class="webhook-row"><span class="webhook-label">Send on Status Change</span><div class="webhook-toggle" onclick="toggleActive(this)"></div></div>
      </div>
    </div>
  `;
        }
        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById("breadcrumbFormName").textContent = getFormName();
            document.getElementById("formUrl").value = getShareUrl();
            setDarkInitial();
            document.getElementById('plansBtn').onclick = () => window.location = '/pricing.html';
            document.getElementById('linkBtn').onclick = copyLink;
            document.getElementById('helpBtn').onclick = () => window.location = '/help.html';
            document.getElementById('darkToggleBtn').onclick = toggleDarkMode;
            document.getElementById('editBtn').onclick = gotoContent;
            showIntegrations(); // default
        });
    </script>
</body>

</html>